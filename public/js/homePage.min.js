"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function eGamingHome(){var e="wss://js-assignment.evolutiongaming.com/ws_api",t={$type:"login",username:"user1234",password:"password1234"},n={$type:"subscribe_tables"},o=void 0;if(!(this&&this instanceof eGamingHome))return new eGamingHome;cleanDOM(document),(o=new WebSocket(e)).onopen=function(){console.log("connected"),o.send(JSON.stringify(t))},o.onmessage=function(e){var t=JSON.parse(e.data);switch(t.$type){case"login_successful":o.send(JSON.stringify(n));break;case"table_list":t.tables.forEach(function(e){return function(e){if(!e||"object"!==(void 0===e?"undefined":_typeof(e)))return console.log("Invalid table");var t=I("casinoTableTemplate").content.querySelector("div"),n=document.importNode(t,!0);cleanDOM(n),n.firstChild.textContent=e.name,n.firstChild.nextSibling.lastChild.textContent=12-e.participants,n.setAttribute("id",e.id),I("tableViewsHolder").appendChild(n)}(e)});break;case"table_removed":I("tableViewsHolder").removeChild(I(t.id));break;case"table_updated":!function(e){var t=I(e.id);t.firstChild.textContent=e.name,t.firstChild.nextSibling.lastChild.textContent=12-e.participants}(t);break;default:console.log(e)}},o.onerror=function(e){return console.log(e)},o.onclose=function(){},window.addEventListener("click",function(e){var t=e.target;t.classList.contains("clossX")&&function(e){var t={$type:"remove_table",id:parseInt(e.parentNode.id)};o.send(JSON.stringify(t))}(t)}),I("copy").appendChild(document.createTextNode(" - "+(new Date).getFullYear()))}window.addEventListener("load",function(){return new eGamingHome});